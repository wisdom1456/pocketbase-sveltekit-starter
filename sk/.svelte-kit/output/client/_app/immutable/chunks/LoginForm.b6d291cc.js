import{a1 as oe,a2 as pe,a3 as Z,a4 as fe,s as de,f as v,g as k,h as V,d as i,j as a,i as E,w as O,R as he,E as F,l as Q,a as B,e as le,m as J,c as P,u as G,v as d,n as ee,A as te,M as x,N as $,G as _e,Q as R}from"./scheduler.c76fa77e.js";import{g as be,t as me,c as ve,a as ke,S as ge,i as we}from"./index.315486b9.js";import{c as se,p as Le,e as re}from"./index.f8848209.js";function Ee(l,e){const t=e.token={};function u(s,r,n,o){if(e.token!==t)return;e.resolved=o;let p=e.ctx;n!==void 0&&(p=p.slice(),p[n]=o);const b=s&&(e.current=s)(p);let m=!1;e.block&&(e.blocks?e.blocks.forEach((f,I)=>{I!==r&&f&&(be(),me(f,1,1,()=>{e.blocks[I]===f&&(e.blocks[I]=null)}),ve())}):e.block.d(1),b.c(),ke(b,1),b.m(e.mount(),e.anchor),m=!0),e.block=b,e.blocks&&(e.blocks[r]=b),m&&fe()}if(oe(l)){const s=pe();if(l.then(r=>{Z(s),u(e.then,1,e.value,r),Z(null)},r=>{if(Z(s),u(e.catch,2,e.error,r),Z(null),!e.hasCatch)throw r}),e.current!==e.pending)return u(e.pending,0),!0}else{if(e.current!==e.then)return u(e.then,1,e.value,l),!0;e.resolved=l}}function ye(l,e,t){const u=e.slice(),{resolved:s}=l;l.current===l.then&&(u[l.value]=s),l.current===l.catch&&(u[l.error]=s),l.block.p(u,t)}function ae(l,e,t){const u=l.slice();return u[29]=e[t],u}function ne(l){let e,t=l[8]==="SignIn"?"Log in":"Create an account",u,s,r,n,o,p,b,m,f,I,g,_,C,j="OR",N,q,H,M,W,z,S={ctx:l,current:null,token:null,hasCatch:!0,pending:Ce,then:Te,catch:Ie,value:28};Ee(l[11].listAuthMethods({$autoCancel:!1}),S);function w(h,T){if(h[8]==="SignIn")return Ue;if(h[8]==="SignUp")return Se}let L=w(l),U=L&&L(l),y=l[9]&&ie(l),A=l[10]&&ce(l);return{c(){e=v("h1"),u=Q(t),s=B(),r=v("div"),n=v("button"),o=Q("Log in"),b=B(),m=v("button"),f=Q("Sign up"),g=B(),S.block.c(),_=B(),C=v("div"),C.textContent=j,N=B(),U&&U.c(),q=B(),y&&y.c(),H=B(),A&&A.c(),M=le(),this.h()},l(h){e=k(h,"H1",{class:!0});var T=V(e);u=J(T,t),T.forEach(i),s=P(h),r=k(h,"DIV",{class:!0});var c=V(r);n=k(c,"BUTTON",{class:!0,"aria-label":!0,type:!0});var D=V(n);o=J(D,"Log in"),D.forEach(i),b=P(c),m=k(c,"BUTTON",{class:!0,"aria-label":!0});var K=V(m);f=J(K,"Sign up"),K.forEach(i),c.forEach(i),g=P(h),S.block.l(h),_=P(h),C=k(h,"DIV",{class:!0,"data-svelte-h":!0}),G(C)!=="svelte-cr75gt"&&(C.textContent=j),N=P(h),U&&U.l(h),q=P(h),y&&y.l(h),H=P(h),A&&A.l(h),M=le(),this.h()},h(){a(e,"class","self-center text-3xl font-bold"),a(n,"class",p="tab-bordered tab "+(l[8]==="SignIn"?"tab-active":"")),a(n,"aria-label","Log in"),a(n,"type","button"),a(m,"class",I="tab-bordered tab "+(l[8]==="SignUp"?"tab-active":"")),a(m,"aria-label","Sign up"),a(r,"class","tabs self-center"),a(C,"class","divider")},m(h,T){E(h,e,T),d(e,u),E(h,s,T),E(h,r,T),d(r,n),d(n,o),d(r,b),d(r,m),d(m,f),E(h,g,T),S.block.m(h,S.anchor=T),S.mount=()=>_.parentNode,S.anchor=_,E(h,_,T),E(h,C,T),E(h,N,T),U&&U.m(h,T),E(h,q,T),y&&y.m(h,T),E(h,H,T),A&&A.m(h,T),E(h,M,T),W||(z=[O(n,"click",l[14]),O(n,"keydown",l[15]),O(m,"click",l[16]),O(m,"keydown",l[17])],W=!0)},p(h,T){l=h,T[0]&256&&t!==(t=l[8]==="SignIn"?"Log in":"Create an account")&&ee(u,t),T[0]&256&&p!==(p="tab-bordered tab "+(l[8]==="SignIn"?"tab-active":""))&&a(n,"class",p),T[0]&256&&I!==(I="tab-bordered tab "+(l[8]==="SignUp"?"tab-active":""))&&a(m,"class",I),ye(S,l,T),L===(L=w(l))&&U?U.p(l,T):(U&&U.d(1),U=L&&L(l),U&&(U.c(),U.m(q.parentNode,q))),l[9]?y?y.p(l,T):(y=ie(l),y.c(),y.m(H.parentNode,H)):y&&(y.d(1),y=null),l[10]?A?A.p(l,T):(A=ce(l),A.c(),A.m(M.parentNode,M)):A&&(A.d(1),A=null)},d(h){h&&(i(e),i(s),i(r),i(g),i(_),i(C),i(N),i(q),i(H),i(M)),S.block.d(h),S.token=null,S=null,U&&U.d(h),y&&y.d(h),A&&A.d(h),W=!1,te(z)}}}function Ie(l){return{c:F,l:F,m:F,p:F,d:F}}function Te(l){let e,t=re(l[28].authProviders),u=[];for(let s=0;s<t.length;s+=1)u[s]=ue(ae(l,t,s));return{c(){e=v("div");for(let s=0;s<u.length;s+=1)u[s].c();this.h()},l(s){e=k(s,"DIV",{class:!0});var r=V(e);for(let n=0;n<u.length;n+=1)u[n].l(r);r.forEach(i),this.h()},h(){a(e,"class","space-y-2")},m(s,r){E(s,e,r);for(let n=0;n<u.length;n+=1)u[n]&&u[n].m(e,null)},p(s,r){if(r[0]&2304){t=re(s[28].authProviders);let n;for(n=0;n<t.length;n+=1){const o=ae(s,t,n);u[n]?u[n].p(o,r):(u[n]=ue(o),u[n].c(),u[n].m(e,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=t.length}},d(s){s&&i(e),_e(u,s)}}}function ue(l){let e,t,u,s=l[8]==="SignIn"?"Log in":"Sign up",r,n,o=l[29].name+"",p,b,m,f;function I(){return l[18](l[29])}return{c(){e=v("button"),t=v("i"),u=B(),r=Q(s),n=Q(" with "),p=Q(o),b=B(),this.h()},l(g){e=k(g,"BUTTON",{class:!0,type:!0});var _=V(e);t=k(_,"I",{class:!0}),V(t).forEach(i),u=P(_),r=J(_,s),n=J(_," with "),p=J(_,o),b=P(_),_.forEach(i),this.h()},h(){a(t,"class","fa-brands fa-google mr-2 text-primary"),a(e,"class","btn btn-neutral w-full"),a(e,"type","button")},m(g,_){E(g,e,_),d(e,t),d(e,u),d(e,r),d(e,n),d(e,p),d(e,b),m||(f=O(e,"click",I),m=!0)},p(g,_){l=g,_[0]&256&&s!==(s=l[8]==="SignIn"?"Log in":"Sign up")&&ee(r,s)},d(g){g&&i(e),m=!1,f()}}}function Ce(l){return{c:F,l:F,m:F,p:F,d:F}}function Se(l){let e,t,u='<span class="label-text">Email</span>',s,r,n,o,p,b='<span class="label-text">Password</span>',m,f,I,g,_,C='<span class="label-text">Confirm password</span>',j,N,q,H,M,W='<span class="label-text">Name / Label</span>',z,S,w,L,U,y,A="Sign up",h,T;return{c(){e=v("label"),t=v("div"),t.innerHTML=u,s=B(),r=v("input"),n=B(),o=v("label"),p=v("div"),p.innerHTML=b,m=B(),f=v("input"),I=B(),g=v("label"),_=v("div"),_.innerHTML=C,j=B(),N=v("input"),q=B(),H=v("label"),M=v("div"),M.innerHTML=W,z=B(),S=v("input"),w=B(),L=v("input"),U=B(),y=v("button"),y.textContent=A,this.h()},l(c){e=k(c,"LABEL",{class:!0});var D=V(e);t=k(D,"DIV",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-z82hsd"&&(t.innerHTML=u),s=P(D),r=k(D,"INPUT",{class:!0,type:!0,placeholder:!0}),D.forEach(i),n=P(c),o=k(c,"LABEL",{class:!0});var K=V(o);p=k(K,"DIV",{class:!0,"data-svelte-h":!0}),G(p)!=="svelte-vwtoqm"&&(p.innerHTML=b),m=P(K),f=k(K,"INPUT",{class:!0,type:!0,placeholder:!0}),K.forEach(i),I=P(c),g=k(c,"LABEL",{class:!0});var X=V(g);_=k(X,"DIV",{class:!0,"data-svelte-h":!0}),G(_)!=="svelte-1dsbuwe"&&(_.innerHTML=C),j=P(X),N=k(X,"INPUT",{class:!0,type:!0,placeholder:!0}),X.forEach(i),q=P(c),H=k(c,"LABEL",{class:!0});var Y=V(H);M=k(Y,"DIV",{class:!0,"data-svelte-h":!0}),G(M)!=="svelte-rcylod"&&(M.innerHTML=W),z=P(Y),S=k(Y,"INPUT",{class:!0,type:!0,placeholder:!0}),Y.forEach(i),w=P(c),L=k(c,"INPUT",{type:!0,name:!0}),U=P(c),y=k(c,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),G(y)!=="svelte-1dauk6r"&&(y.textContent=A),this.h()},h(){a(t,"class","label"),a(r,"class","input input-bordered"),r.required=!0,a(r,"type","text"),a(r,"placeholder","email"),a(e,"class","form-control"),a(p,"class","label"),a(f,"class","input input-bordered"),f.required=!0,a(f,"type","password"),a(f,"placeholder","password"),a(o,"class","form-control"),a(_,"class","label"),a(N,"class","input input-bordered"),N.required=!0,a(N,"type","password"),a(N,"placeholder","confirm password"),a(g,"class","form-control"),a(M,"class","label"),a(S,"class","input input-bordered"),S.required=!0,a(S,"type","text"),a(S,"placeholder","name / label"),a(H,"class","form-control"),a(L,"type","hidden"),a(L,"name","register"),L.value=!0,a(y,"class","btn btn-primary"),a(y,"type","submit")},m(c,D){E(c,e,D),d(e,t),d(e,s),d(e,r),R(r,l[2]),E(c,n,D),E(c,o,D),d(o,p),d(o,m),d(o,f),R(f,l[4]),E(c,I,D),E(c,g,D),d(g,_),d(g,j),d(g,N),R(N,l[5]),E(c,q,D),E(c,H,D),d(H,M),d(H,z),d(H,S),R(S,l[3]),E(c,w,D),E(c,L,D),E(c,U,D),E(c,y,D),h||(T=[O(r,"input",l[23]),O(f,"input",l[24]),O(N,"input",l[25]),O(S,"input",l[26]),O(y,"click",l[27])],h=!0)},p(c,D){D[0]&4&&r.value!==c[2]&&R(r,c[2]),D[0]&16&&f.value!==c[4]&&R(f,c[4]),D[0]&32&&N.value!==c[5]&&R(N,c[5]),D[0]&8&&S.value!==c[3]&&R(S,c[3])},d(c){c&&(i(e),i(n),i(o),i(I),i(g),i(q),i(H),i(w),i(L),i(U),i(y)),h=!1,te(T)}}}function Ue(l){let e,t,u='<span class="label-text">Email</span>',s,r,n,o,p,b='<span class="label-text">Password</span>',m,f,I,g,_,C,j,N,q="Admin",H,M,W="Log in",z,S;return{c(){e=v("label"),t=v("div"),t.innerHTML=u,s=B(),r=v("input"),n=B(),o=v("label"),p=v("div"),p.innerHTML=b,m=B(),f=v("input"),I=B(),g=v("div"),_=v("label"),C=v("input"),j=B(),N=v("span"),N.textContent=q,H=B(),M=v("button"),M.textContent=W,this.h()},l(w){e=k(w,"LABEL",{class:!0});var L=V(e);t=k(L,"DIV",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-z82hsd"&&(t.innerHTML=u),s=P(L),r=k(L,"INPUT",{class:!0,type:!0,placeholder:!0,id:!0,autocomplete:!0}),L.forEach(i),n=P(w),o=k(w,"LABEL",{class:!0});var U=V(o);p=k(U,"DIV",{class:!0,"data-svelte-h":!0}),G(p)!=="svelte-vwtoqm"&&(p.innerHTML=b),m=P(U),f=k(U,"INPUT",{class:!0,type:!0,placeholder:!0,id:!0,autocomplete:!0}),U.forEach(i),I=P(w),g=k(w,"DIV",{class:!0});var y=V(g);_=k(y,"LABEL",{class:!0});var A=V(_);C=k(A,"INPUT",{type:!0,class:!0}),j=P(A),N=k(A,"SPAN",{class:!0,"data-svelte-h":!0}),G(N)!=="svelte-zhyesw"&&(N.textContent=q),A.forEach(i),y.forEach(i),H=P(w),M=k(w,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),G(M)!=="svelte-1ecug65"&&(M.textContent=W),this.h()},h(){a(t,"class","label"),a(r,"class","input input-bordered"),r.required=!0,a(r,"type","email"),a(r,"placeholder","email"),a(r,"id","email-input"),a(r,"autocomplete","email"),a(e,"class","form-control"),a(p,"class","label"),a(f,"class","input input-bordered"),f.required=!0,a(f,"type","password"),a(f,"placeholder","password"),a(f,"id","password-input"),a(f,"autocomplete","current-password"),a(o,"class","form-control"),a(C,"type","checkbox"),a(C,"class","checkbox"),a(N,"class","label-text"),a(_,"class","label cursor-pointer gap-2 self-start"),a(g,"class","form-control"),a(M,"class","btn btn-primary"),a(M,"type","submit")},m(w,L){E(w,e,L),d(e,t),d(e,s),d(e,r),R(r,l[2]),E(w,n,L),E(w,o,L),d(o,p),d(o,m),d(o,f),R(f,l[4]),E(w,I,L),E(w,g,L),d(g,_),d(_,C),C.checked=l[7],d(_,j),d(_,N),E(w,H,L),E(w,M,L),z||(S=[O(r,"input",l[19]),O(f,"input",l[20]),O(C,"change",l[21]),O(M,"click",l[22])],z=!0)},p(w,L){L[0]&4&&r.value!==w[2]&&R(r,w[2]),L[0]&16&&f.value!==w[4]&&R(f,w[4]),L[0]&128&&(C.checked=w[7])},d(w){w&&(i(e),i(n),i(o),i(I),i(g),i(H),i(M)),z=!1,te(S)}}}function ie(l){let e,t,u,s,r,n,o;return{c(){e=v("div"),t=v("div"),u=x("svg"),s=x("path"),r=B(),n=v("label"),o=Q(l[9]),this.h()},l(p){e=k(p,"DIV",{class:!0});var b=V(e);t=k(b,"DIV",{class:!0});var m=V(t);u=$(m,"svg",{xmlns:!0,fill:!0,viewBox:!0,class:!0});var f=V(u);s=$(f,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),V(s).forEach(i),f.forEach(i),r=P(m),n=k(m,"LABEL",{for:!0});var I=V(n);o=J(I,l[9]),I.forEach(i),m.forEach(i),b.forEach(i),this.h()},h(){a(s,"stroke-linecap","round"),a(s,"stroke-linejoin","round"),a(s,"stroke-width","2"),a(s,"d","M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"),a(u,"xmlns","http://www.w3.org/2000/svg"),a(u,"fill","none"),a(u,"viewBox","0 0 24 24"),a(u,"class","mx-2 h-6 w-6 stroke-current"),a(n,"for","errorMessageInput"),a(t,"class","flex-1"),a(e,"class","alert alert-error")},m(p,b){E(p,e,b),d(e,t),d(t,u),d(u,s),d(t,r),d(t,n),d(n,o)},p(p,b){b[0]&512&&ee(o,p[9])},d(p){p&&i(e)}}}function ce(l){let e,t,u,s,r,n,o;return{c(){e=v("div"),t=v("div"),u=x("svg"),s=x("path"),r=B(),n=v("label"),o=Q(l[10]),this.h()},l(p){e=k(p,"DIV",{class:!0});var b=V(e);t=k(b,"DIV",{class:!0});var m=V(t);u=$(m,"svg",{xmlns:!0,fill:!0,viewBox:!0,class:!0});var f=V(u);s=$(f,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),V(s).forEach(i),f.forEach(i),r=P(m),n=k(m,"LABEL",{for:!0});var I=V(n);o=J(I,l[10]),I.forEach(i),m.forEach(i),b.forEach(i),this.h()},h(){a(s,"stroke-linecap","round"),a(s,"stroke-linejoin","round"),a(s,"stroke-width","2"),a(s,"d","M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"),a(u,"xmlns","http://www.w3.org/2000/svg"),a(u,"fill","none"),a(u,"viewBox","0 0 24 24"),a(u,"class","mx-2 h-6 w-6 stroke-current"),a(n,"for","successMessageInput"),a(t,"class","flex-1"),a(e,"class","alert alert-success")},m(p,b){E(p,e,b),d(e,t),d(t,u),d(u,s),d(t,r),d(t,n),d(n,o)},p(p,b){b[0]&1024&&ee(o,p[10])},d(p){p&&i(e)}}}function Me(l){let e,t,u,s=l[1]&&ne(l);return{c(){e=v("form"),s&&s.c(),this.h()},l(r){e=k(r,"FORM",{class:!0});var n=V(e);s&&s.l(n),n.forEach(i),this.h()},h(){a(e,"class","flex max-w-md flex-col gap-4 rounded-box bg-base-200 p-6")},m(r,n){E(r,e,n),s&&s.m(e,null),t||(u=O(e,"submit",he(l[12])),t=!0)},p(r,n){r[1]?s?s.p(r,n):(s=ne(r),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i:F,o:F,d(r){r&&i(e),s&&s.d(),t=!1,u()}}}function Ne(l,e,t){let{authCollection:u="users"}=e,{passwordLogin:s=!0}=e,{signup:r=!0}=e;const n=se.collection(u);let o,p,b,m,f=!1,I=!1,g=r?"SignUp":"SignIn",_="",C="";async function j(){if(f)try{await n.create({email:o,name:p,password:b,passwordConfirm:m}),t(10,C="User created successfully!"),t(9,_="")}catch(c){console.error("Error creating user:",c),t(9,_="Error creating user. Please try again."),t(10,C="")}else if(I)try{await se.admins.authWithPassword(o,b),t(10,C="Admin authenticated successfully!"),t(9,_="")}catch(c){console.error("Admin authentication error:",c),t(9,_="Admin authentication failed. Please check your credentials."),t(10,C="")}else try{await n.authWithPassword(o,b),t(10,C="User authenticated successfully!"),t(9,_="")}catch(c){console.error("User authentication error:",c),t(9,_="User authentication failed. Please check your credentials."),t(10,C="")}}const N=()=>(t(8,g="SignIn"),t(0,r=!1)),q=c=>{c.key==="Enter"&&(t(8,g="SignIn"),t(0,r=!1))},H=()=>(t(8,g="SignUp"),t(0,r=!0)),M=c=>{c.key==="Enter"&&(t(8,g="SignUp"),t(0,r=!0))},W=c=>Le(c,n);function z(){o=this.value,t(2,o)}function S(){b=this.value,t(4,b)}function w(){I=this.checked,t(7,I)}const L=()=>t(6,f=!1);function U(){o=this.value,t(2,o)}function y(){b=this.value,t(4,b)}function A(){m=this.value,t(5,m)}function h(){p=this.value,t(3,p)}const T=()=>t(6,f=!0);return l.$$set=c=>{"authCollection"in c&&t(13,u=c.authCollection),"passwordLogin"in c&&t(1,s=c.passwordLogin),"signup"in c&&t(0,r=c.signup)},[r,s,o,p,b,m,f,I,g,_,C,n,j,u,N,q,H,M,W,z,S,w,L,U,y,A,h,T]}class Ve extends ge{constructor(e){super(),we(this,e,Ne,Me,de,{authCollection:13,passwordLogin:1,signup:0},null,[-1,-1])}}export{Ve as L,Ee as h,ye as u};
