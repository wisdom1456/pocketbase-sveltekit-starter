import{s as G,C as H,o as M,f as w,g as y,h as C,d as _,j as N,i as g,u as R,E as v,l as d,a as V,e as P,m as h,c as z,v as $,n as j}from"../chunks/scheduler.c76fa77e.js";import{S as A,i as J,b as B,d as S,m as T,a as b,t as k,e as q,g as D,c as F}from"../chunks/index.315486b9.js";import{p as K}from"../chunks/stores.09250c1d.js";import{c as I}from"../chunks/index.f8848209.js";import{P as O}from"../chunks/PostList.2302e251.js";import{L as Q}from"../chunks/LoginGuard.0133d522.js";function U(c){let e,o="Tag not found.";return{c(){e=w("p"),e.textContent=o},l(t){e=y(t,"P",{"data-svelte-h":!0}),R(e)!=="svelte-1deh4cj"&&(e.textContent=o)},m(t,s){g(t,e,s)},p:v,i:v,o:v,d(t){t&&_(e)}}}function W(c){let e,o,t=c[1].title+"",s,a,r,n,l,f,p;const E=[Y,X],m=[];function L(i,u){return i[0].length>0?0:1}return n=L(c),l=m[n]=E[n](c),{c(){e=w("h1"),o=d('Blogs tagged with "'),s=d(t),a=d('"'),r=V(),l.c(),f=P(),this.h()},l(i){e=y(i,"H1",{class:!0});var u=C(e);o=h(u,'Blogs tagged with "'),s=h(u,t),a=h(u,'"'),u.forEach(_),r=z(i),l.l(i),f=P(),this.h()},h(){N(e,"class","mb-8 text-4xl font-bold")},m(i,u){g(i,e,u),$(e,o),$(e,s),$(e,a),g(i,r,u),m[n].m(i,u),g(i,f,u),p=!0},p(i,u){(!p||u&2)&&t!==(t=i[1].title+"")&&j(s,t);let x=n;n=L(i),n===x?m[n].p(i,u):(D(),k(m[x],1,1,()=>{m[x]=null}),F(),l=m[n],l?l.p(i,u):(l=m[n]=E[n](i),l.c()),b(l,1),l.m(f.parentNode,f))},i(i){p||(b(l),p=!0)},o(i){k(l),p=!1},d(i){i&&(_(e),_(r),_(f)),m[n].d(i)}}}function X(c){let e,o,t=c[1].title+"",s,a;return{c(){e=w("p"),o=d('No blogs found with the tag "'),s=d(t),a=d('".')},l(r){e=y(r,"P",{});var n=C(e);o=h(n,'No blogs found with the tag "'),s=h(n,t),a=h(n,'".'),n.forEach(_)},m(r,n){g(r,e,n),$(e,o),$(e,s),$(e,a)},p(r,n){n&2&&t!==(t=r[1].title+"")&&j(s,t)},i:v,o:v,d(r){r&&_(e)}}}function Y(c){let e,o;return e=new O({props:{posts:c[0]}}),{c(){B(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,s){T(e,t,s),o=!0},p(t,s){const a={};s&1&&(a.posts=t[0]),e.$set(a)},i(t){o||(b(e.$$.fragment,t),o=!0)},o(t){k(e.$$.fragment,t),o=!1},d(t){q(e,t)}}}function Z(c){let e,o,t,s;const a=[W,U],r=[];function n(l,f){return l[1]?0:1}return o=n(c),t=r[o]=a[o](c),{c(){e=w("div"),t.c(),this.h()},l(l){e=y(l,"DIV",{class:!0});var f=C(e);t.l(f),f.forEach(_),this.h()},h(){N(e,"class","container mx-auto px-4")},m(l,f){g(l,e,f),r[o].m(e,null),s=!0},p(l,f){let p=o;o=n(l),o===p?r[o].p(l,f):(D(),k(r[p],1,1,()=>{r[p]=null}),F(),t=r[o],t?t.p(l,f):(t=r[o]=a[o](l),t.c()),b(t,1),t.m(e,null))},i(l){s||(b(t),s=!0)},o(l){k(t),s=!1},d(l){l&&_(e),r[o].d()}}}function tt(c){let e,o;return e=new Q({props:{$$slots:{default:[Z]},$$scope:{ctx:c}}}),{c(){B(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,s){T(e,t,s),o=!0},p(t,[s]){const a={};s&11&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){o||(b(e.$$.fragment,t),o=!0)},o(t){k(e.$$.fragment,t),o=!1},d(t){q(e,t)}}}function et(c,e,o){let t;H(c,K,r=>o(2,t=r));let s=[],a;return M(async()=>{const{tag:r}=t.params;try{const n=await I.collection("tags").getFirstListItem(`title = '${r}'`);if(o(1,a=n),a){const l=await I.collection("posts").getList(1,50,{filter:`tags ~ '${a.id}'`,expand:"featuredImage,tags"});o(0,s=l.items),console.log("posts",s)}}catch(n){console.error("Error fetching posts:",n)}}),[s,a]}class it extends A{constructor(e){super(),J(this,e,et,tt,G,{})}}export{it as component};
