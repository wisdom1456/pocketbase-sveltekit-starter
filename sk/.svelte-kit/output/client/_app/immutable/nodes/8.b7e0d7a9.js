import{s as ae,C as le,J as B,o as se,a as C,e as J,c as A,i as L,d as p,f as g,l as re,g as v,h as I,u as X,m as oe,j as u,v as h,n as ne,E,L as T}from"../chunks/scheduler.c76fa77e.js";import{h as O,u as ie}from"../chunks/LoginForm.c9792562.js";import{e as R,u as ce,c as z,o as ue}from"../chunks/index.f48a89bf.js";import{S as fe,i as me,b as Y,d as Z,m as ee,a as F,t as N,e as te,g as de,c as pe}from"../chunks/index.315486b9.js";import{m as H}from"../chunks/metadataStore.28e9e3ce.js";import"../chunks/Alerts.644dc04d.js";import{S as _e}from"../chunks/SvelteMarkdown.f6ef337e.js";import{f as he}from"../chunks/postService.a4e13fbd.js";import"../chunks/singletons.d30dba1f.js";import{L as ge}from"../chunks/LoginGuard.0c85c1d4.js";function K(i,e,l){const t=i.slice();return t[4]=e[l],t}function ve(i){return{c:E,l:E,m:E,p:E,d:E}}function be(i){let e,l,t;return{c(){e=g("img"),this.h()},l(a){e=v(a,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){T(e.src,l=i[7])||u(e,"src",l),u(e,"alt",t=i[4].title),u(e,"class","aspect-[16/9] w-full object-cover sm:aspect-[2/1] lg:aspect-[3/2]")},m(a,n){L(a,e,n)},p(a,n){n&1&&!T(e.src,l=a[7])&&u(e,"src",l),n&1&&t!==(t=a[4].title)&&u(e,"alt",t)},d(a){a&&p(e)}}}function ke(i){let e,l;return{c(){e=g("img"),this.h()},l(t){e=v(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){T(e.src,l="https://via.placeholder.com/800x400.png?text=Loading...")||u(e,"src",l),u(e,"alt","Loading..."),u(e,"class","aspect-[16/9] w-full object-cover sm:aspect-[2/1] lg:aspect-[3/2]")},m(t,a){L(t,e,a)},p:E,d(t){t&&p(e)}}}function Q(i,e){let l,t,a,n,c,f,o,s="",r,m,k,M=e[4].title+"",D,V,G,y,$,x,d={ctx:e,current:null,token:null,hasCatch:!1,pending:ke,then:be,catch:ve,value:7};return O(n=e[1](e[4]),d),$=new _e({props:{source:e[4].blogSummary||e[4].body}}),{key:i,first:null,c(){l=g("div"),t=g("div"),a=g("figure"),d.block.c(),c=C(),f=g("div"),o=g("div"),o.innerHTML=s,r=C(),m=g("div"),k=g("a"),D=re(M),G=C(),y=g("div"),Y($.$$.fragment),this.h()},l(_){l=v(_,"DIV",{class:!0});var b=I(l);t=v(b,"DIV",{});var w=I(t);a=v(w,"FIGURE",{});var U=I(a);d.block.l(U),U.forEach(p),c=A(w),f=v(w,"DIV",{class:!0});var j=I(f);o=v(j,"DIV",{class:!0,"data-svelte-h":!0}),X(o)!=="svelte-189i4nw"&&(o.innerHTML=s),r=A(j),m=v(j,"DIV",{class:!0});var S=I(m);k=v(S,"A",{href:!0,class:!0});var q=I(k);D=oe(q,M),q.forEach(p),G=A(S),y=v(S,"DIV",{class:!0});var P=I(y);Z($.$$.fragment,P),P.forEach(p),S.forEach(p),j.forEach(p),w.forEach(p),b.forEach(p),this.h()},h(){u(o,"class","prose items-center gap-x-4"),u(k,"href",V=`/posts/${e[4].slug}`),u(k,"class","prose-lg text-primary line-clamp-2 font-bold"),u(y,"class","prose-sm text-base-content mt-3 line-clamp-6 text-justify"),u(m,"class","group relative mt-3"),u(f,"class","m-4 max-w-xl"),u(l,"class","card bg-base-300 flex w-full flex-col justify-between p-4 shadow-xl"),this.first=l},m(_,b){L(_,l,b),h(l,t),h(t,a),d.block.m(a,d.anchor=null),d.mount=()=>a,d.anchor=null,h(t,c),h(t,f),h(f,o),h(f,r),h(f,m),h(m,k),h(k,D),h(m,G),h(m,y),ee($,y,null),x=!0},p(_,b){e=_,d.ctx=e,b&1&&n!==(n=e[1](e[4]))&&O(n,d)||ie(d,e,b),(!x||b&1)&&M!==(M=e[4].title+"")&&ne(D,M),(!x||b&1&&V!==(V=`/posts/${e[4].slug}`))&&u(k,"href",V);const w={};b&1&&(w.source=e[4].blogSummary||e[4].body),$.$set(w)},i(_){x||(F($.$$.fragment,_),x=!0)},o(_){N($.$$.fragment,_),x=!1},d(_){_&&p(l),d.block.d(),d.token=null,d=null,te($)}}}function W(i){let e,l='<div><div class="m-4 max-w-xl"><div class="prose items-center gap-x-4"><div class="text-accent">No posts found</div></div></div></div>';return{c(){e=g("div"),e.innerHTML=l,this.h()},l(t){e=v(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1i59cfa"&&(e.innerHTML=l),this.h()},h(){u(e,"class","card bg-base-300 flex w-full flex-col justify-between p-4 shadow-xl")},m(t,a){L(t,e,a)},d(t){t&&p(e)}}}function $e(i){let e=[],l=new Map,t,a,n,c=R(i[0]);const f=s=>s[4].id;for(let s=0;s<c.length;s+=1){let r=K(i,c,s),m=f(r);l.set(m,e[s]=Q(m,r))}let o=i[0].length===0&&W();return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=C(),o&&o.c(),a=J()},l(s){for(let r=0;r<e.length;r+=1)e[r].l(s);t=A(s),o&&o.l(s),a=J()},m(s,r){for(let m=0;m<e.length;m+=1)e[m]&&e[m].m(s,r);L(s,t,r),o&&o.m(s,r),L(s,a,r),n=!0},p(s,r){r&3&&(c=R(s[0]),de(),e=ce(e,r,f,1,s,c,l,t.parentNode,ue,Q,t,K),pe()),s[0].length===0?o||(o=W(),o.c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null)},i(s){if(!n){for(let r=0;r<c.length;r+=1)F(e[r]);n=!0}},o(s){for(let r=0;r<e.length;r+=1)N(e[r]);n=!1},d(s){s&&(p(t),p(a));for(let r=0;r<e.length;r+=1)e[r].d(s);o&&o.d(s)}}}function we(i){let e,l;return e=new ge({props:{$$slots:{default:[$e]},$$scope:{ctx:i}}}),{c(){Y(e.$$.fragment)},l(t){Z(e.$$.fragment,t)},m(t,a){ee(e,t,a),l=!0},p(t,[a]){const n={};a&257&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){l||(F(e.$$.fragment,t),l=!0)},o(t){N(e.$$.fragment,t),l=!1},d(t){te(e,t)}}}function Ie(i,e,l){let t;le(i,H,c=>l(2,t=c));async function a(c){if(c.featuredImage){const f=await z.collection("images").getOne(c.featuredImage);if(f&&f.file)return z.getFileUrl(f,f.file)}return"https://via.placeholder.com/800x400.png?text=AI+Blog"}B(H,t.title="AI powered note taking",t),B(H,t.description="AI powered note taking",t);let n=[];return se(async()=>{const c=await he();c&&l(0,n=c)}),[n,a]}class Ae extends fe{constructor(e){super(),me(this,e,Ie,we,ae,{})}}export{Ae as component};
