import{s as ae,C as le,J as B,o as se,a as C,e as J,c as G,i as L,d as p,f as g,l as re,g as v,h as I,u as X,m as oe,j as c,v as h,n as ne,E,L as A}from"../chunks/scheduler.c76fa77e.js";import{h as O,u as ie}from"../chunks/LoginForm.811c8c38.js";import{e as R,u as ce,c as z,o as ue}from"../chunks/index.1c988bca.js";import{S as fe,i as me,b as Y,d as Z,m as ee,a as F,t as N,e as te,g as de,c as pe}from"../chunks/index.315486b9.js";import{m as T}from"../chunks/metadataStore.28e9e3ce.js";import"../chunks/Alerts.f0e47bfd.js";import{S as _e}from"../chunks/SvelteMarkdown.e865ed39.js";import{w as he}from"../chunks/index.b36f6ad1.js";import{f as ge}from"../chunks/postService.6359b3df.js";import"../chunks/singletons.d503bb2d.js";import{L as ve}from"../chunks/LoginGuard.df2525b9.js";const be=he([]);function K(i,e,l){const t=i.slice();return t[4]=e[l],t}function ke(i){return{c:E,l:E,m:E,p:E,d:E}}function $e(i){let e,l,t;return{c(){e=g("img"),this.h()},l(a){e=v(a,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){A(e.src,l=i[7])||c(e,"src",l),c(e,"alt",t=i[4].title),c(e,"class","aspect-[16/9] w-full object-cover sm:aspect-[2/1] lg:aspect-[3/2]")},m(a,n){L(a,e,n)},p(a,n){n&1&&!A(e.src,l=a[7])&&c(e,"src",l),n&1&&t!==(t=a[4].title)&&c(e,"alt",t)},d(a){a&&p(e)}}}function we(i){let e,l;return{c(){e=g("img"),this.h()},l(t){e=v(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){A(e.src,l="https://via.placeholder.com/800x400.png?text=Loading...")||c(e,"src",l),c(e,"alt","Loading..."),c(e,"class","aspect-[16/9] w-full object-cover sm:aspect-[2/1] lg:aspect-[3/2]")},m(t,a){L(t,e,a)},p:E,d(t){t&&p(e)}}}function Q(i,e){let l,t,a,n,u,f,o,s="",r,m,k,M=e[4].title+"",D,S,H,y,$,x,d={ctx:e,current:null,token:null,hasCatch:!1,pending:we,then:$e,catch:ke,value:7};return O(n=e[1](e[4]),d),$=new _e({props:{source:e[4].blogSummary||e[4].body}}),{key:i,first:null,c(){l=g("div"),t=g("div"),a=g("figure"),d.block.c(),u=C(),f=g("div"),o=g("div"),o.innerHTML=s,r=C(),m=g("div"),k=g("a"),D=re(M),H=C(),y=g("div"),Y($.$$.fragment),this.h()},l(_){l=v(_,"DIV",{class:!0});var b=I(l);t=v(b,"DIV",{});var w=I(t);a=v(w,"FIGURE",{});var U=I(a);d.block.l(U),U.forEach(p),u=G(w),f=v(w,"DIV",{class:!0});var V=I(f);o=v(V,"DIV",{class:!0,"data-svelte-h":!0}),X(o)!=="svelte-d0t448"&&(o.innerHTML=s),r=G(V),m=v(V,"DIV",{class:!0});var j=I(m);k=v(j,"A",{href:!0,class:!0});var q=I(k);D=oe(q,M),q.forEach(p),H=G(j),y=v(j,"DIV",{class:!0});var P=I(y);Z($.$$.fragment,P),P.forEach(p),j.forEach(p),V.forEach(p),w.forEach(p),b.forEach(p),this.h()},h(){c(o,"class","prose items-center gap-x-4"),c(k,"href",S=`/posts/${e[4].slug}`),c(k,"class","prose-lg text-primary line-clamp-2 font-bold"),c(y,"class","prose-sm text-base-content mt-3 line-clamp-6 text-justify"),c(m,"class","group relative mt-3"),c(f,"class","m-4 max-w-xl"),c(l,"class","card bg-base-300 flex w-full flex-col justify-between p-4 shadow-xl"),this.first=l},m(_,b){L(_,l,b),h(l,t),h(t,a),d.block.m(a,d.anchor=null),d.mount=()=>a,d.anchor=null,h(t,u),h(t,f),h(f,o),h(f,r),h(f,m),h(m,k),h(k,D),h(m,H),h(m,y),ee($,y,null),x=!0},p(_,b){e=_,d.ctx=e,b&1&&n!==(n=e[1](e[4]))&&O(n,d)||ie(d,e,b),(!x||b&1)&&M!==(M=e[4].title+"")&&ne(D,M),(!x||b&1&&S!==(S=`/posts/${e[4].slug}`))&&c(k,"href",S);const w={};b&1&&(w.source=e[4].blogSummary||e[4].body),$.$set(w)},i(_){x||(F($.$$.fragment,_),x=!0)},o(_){N($.$$.fragment,_),x=!1},d(_){_&&p(l),d.block.d(),d.token=null,d=null,te($)}}}function W(i){let e,l='<div><div class="m-4 max-w-xl"><div class="prose items-center gap-x-4"><div class="text-accent">No posts found</div></div></div></div>';return{c(){e=g("div"),e.innerHTML=l,this.h()},l(t){e=v(t,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-nr63l2"&&(e.innerHTML=l),this.h()},h(){c(e,"class","card bg-base-300 flex w-full flex-col justify-between p-4 shadow-xl")},m(t,a){L(t,e,a)},d(t){t&&p(e)}}}function Ie(i){let e=[],l=new Map,t,a,n,u=R(i[0]);const f=s=>s[4].id;for(let s=0;s<u.length;s+=1){let r=K(i,u,s),m=f(r);l.set(m,e[s]=Q(m,r))}let o=i[0].length===0&&W();return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=C(),o&&o.c(),a=J()},l(s){for(let r=0;r<e.length;r+=1)e[r].l(s);t=G(s),o&&o.l(s),a=J()},m(s,r){for(let m=0;m<e.length;m+=1)e[m]&&e[m].m(s,r);L(s,t,r),o&&o.m(s,r),L(s,a,r),n=!0},p(s,r){r&3&&(u=R(s[0]),de(),e=ce(e,r,f,1,s,u,l,t.parentNode,ue,Q,t,K),pe()),s[0].length===0?o||(o=W(),o.c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null)},i(s){if(!n){for(let r=0;r<u.length;r+=1)F(e[r]);n=!0}},o(s){for(let r=0;r<e.length;r+=1)N(e[r]);n=!1},d(s){s&&(p(t),p(a));for(let r=0;r<e.length;r+=1)e[r].d(s);o&&o.d(s)}}}function ye(i){let e,l;return e=new ve({props:{$$slots:{default:[Ie]},$$scope:{ctx:i}}}),{c(){Y(e.$$.fragment)},l(t){Z(e.$$.fragment,t)},m(t,a){ee(e,t,a),l=!0},p(t,[a]){const n={};a&257&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){l||(F(e.$$.fragment,t),l=!0)},o(t){N(e.$$.fragment,t),l=!1},d(t){te(e,t)}}}function xe(i,e,l){let t;le(i,T,u=>l(2,t=u));async function a(u){if(u.featuredImage){const f=await z.collection("images").getOne(u.featuredImage);if(f&&f.file)return z.getFileUrl(f,f.file)}return"https://via.placeholder.com/800x400.png?text=AI+Blog"}B(T,t.title="",t),B(T,t.description="AI powered note taking",t);let n=[];return se(async()=>{await ge()}),be.subscribe(u=>{l(0,n=u)}),[n,a]}class Ae extends fe{constructor(e){super(),me(this,e,xe,ye,ae,{})}}export{Ae as component};
