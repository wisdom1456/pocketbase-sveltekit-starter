import{s as D,C as F,o as N,e as M,i as x,d,f as $,g as h,u as A,E as G,a as w,h as I,c as y,j as g,v as _,l as R,m as V,L as j,n as B}from"../chunks/scheduler.c76fa77e.js";import{S as H,i as O,b as L,d as P,m as S,a as C,t as E,e as T,g as U,c as z}from"../chunks/index.315486b9.js";import{p as J}from"../chunks/stores.a6b8ff96.js";import{b as K}from"../chunks/postService.00e08d84.js";import{S as Q}from"../chunks/SvelteMarkdown.ec2fd99c.js";import{T as W}from"../chunks/TagGroup.4cd4530b.js";import{L as X}from"../chunks/LoginGuard.44709ec0.js";function Y(i){let e,t="Loading post...";return{c(){e=$("p"),e.textContent=t},l(s){e=h(s,"P",{"data-svelte-h":!0}),A(e)!=="svelte-1koprb0"&&(e.textContent=t)},m(s,r){x(s,e,r)},p:G,i:G,o:G,d(s){s&&d(e)}}}function Z(i){let e,t,s,r,c,a,f,o="Tags",n,l,v,m=i[0].featuredImage&&q(i);return r=new Q({props:{source:i[0].body}}),l=new W({props:{post:i[0]}}),{c(){e=$("div"),m&&m.c(),t=w(),s=$("article"),L(r.$$.fragment),c=w(),a=$("div"),f=$("h2"),f.textContent=o,n=w(),L(l.$$.fragment),this.h()},l(u){e=h(u,"DIV",{class:!0});var p=I(e);m&&m.l(p),t=y(p),s=h(p,"ARTICLE",{class:!0});var k=I(s);P(r.$$.fragment,k),k.forEach(d),c=y(p),a=h(p,"DIV",{class:!0});var b=I(a);f=h(b,"H2",{class:!0,"data-svelte-h":!0}),A(f)!=="svelte-gj08ne"&&(f.textContent=o),n=y(b),P(l.$$.fragment,b),b.forEach(d),p.forEach(d),this.h()},h(){g(s,"class","prose mx-auto lg:prose-lg"),g(f,"class","text-2xl"),g(a,"class","mt-8"),g(e,"class","prose prose-sm mx-auto p-4 sm:prose lg:prose-lg xl:prose-xl")},m(u,p){x(u,e,p),m&&m.m(e,null),_(e,t),_(e,s),S(r,s,null),_(e,c),_(e,a),_(a,f),_(a,n),S(l,a,null),v=!0},p(u,p){u[0].featuredImage?m?m.p(u,p):(m=q(u),m.c(),m.m(e,t)):m&&(m.d(1),m=null);const k={};p&1&&(k.source=u[0].body),r.$set(k);const b={};p&1&&(b.post=u[0]),l.$set(b)},i(u){v||(C(r.$$.fragment,u),C(l.$$.fragment,u),v=!0)},o(u){E(r.$$.fragment,u),E(l.$$.fragment,u),v=!1},d(u){u&&d(e),m&&m.d(),T(r),T(l)}}}function q(i){let e,t,s,r,c,a,f=i[0].title+"",o;return{c(){e=$("figure"),t=$("img"),c=w(),a=$("figcaption"),o=R(f),this.h()},l(n){e=h(n,"FIGURE",{class:!0});var l=I(e);t=h(l,"IMG",{src:!0,alt:!0,class:!0}),c=y(l),a=h(l,"FIGCAPTION",{class:!0});var v=I(a);o=V(v,f),v.forEach(d),l.forEach(d),this.h()},h(){j(t.src,s=i[0].featuredImage)||g(t,"src",s),g(t,"alt",r=i[0].title),g(t,"class","mx-auto rounded-lg shadow-md"),g(a,"class","mt-2 text-center text-sm"),g(e,"class","my-4")},m(n,l){x(n,e,l),_(e,t),_(e,c),_(e,a),_(a,o)},p(n,l){l&1&&!j(t.src,s=n[0].featuredImage)&&g(t,"src",s),l&1&&r!==(r=n[0].title)&&g(t,"alt",r),l&1&&f!==(f=n[0].title+"")&&B(o,f)},d(n){n&&d(e)}}}function ee(i){let e,t,s,r;const c=[Z,Y],a=[];function f(o,n){return o[0]?0:1}return e=f(i),t=a[e]=c[e](i),{c(){t.c(),s=M()},l(o){t.l(o),s=M()},m(o,n){a[e].m(o,n),x(o,s,n),r=!0},p(o,n){let l=e;e=f(o),e===l?a[e].p(o,n):(U(),E(a[l],1,1,()=>{a[l]=null}),z(),t=a[e],t?t.p(o,n):(t=a[e]=c[e](o),t.c()),C(t,1),t.m(s.parentNode,s))},i(o){r||(C(t),r=!0)},o(o){E(t),r=!1},d(o){o&&d(s),a[e].d(o)}}}function te(i){let e,t;return e=new X({props:{$$slots:{default:[ee]},$$scope:{ctx:i}}}),{c(){L(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,r){S(e,s,r),t=!0},p(s,[r]){const c={};r&9&&(c.$$scope={dirty:r,ctx:s}),e.$set(c)},i(s){t||(C(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){T(e,s)}}}function se(i,e,t){let s,r;F(i,J,a=>t(1,r=a));let c;return N(async()=>{try{t(0,c=await K(s)),c||console.log("Post not found")}catch(a){console.error("Error fetching post:",a)}}),i.$$.update=()=>{i.$$.dirty&2&&(s=r.params.slug)},[c,r]}class ue extends H{constructor(e){super(),O(this,e,se,te,D,{})}}export{ue as component};
