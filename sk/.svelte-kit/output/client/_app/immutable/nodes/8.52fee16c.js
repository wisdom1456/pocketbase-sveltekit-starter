import{s as le,C as B,J,o as se,a as C,e as O,c as A,i as L,d,f as g,l as re,g as v,h as I,u as Y,m as oe,j as u,v as h,n as ne,E,L as T}from"../chunks/scheduler.c76fa77e.js";import{h as R,u as ie}from"../chunks/LoginForm.b6d291cc.js";import{e as z,u as ce,c as K,o as ue}from"../chunks/index.f8848209.js";import{S as fe,i as me,b as Z,d as ee,m as te,a as F,t as N,e as ae,g as de,c as pe}from"../chunks/index.315486b9.js";import{m as H}from"../chunks/metadataStore.28e9e3ce.js";import"../chunks/Alerts.a79d68e3.js";import{S as _e}from"../chunks/SvelteMarkdown.c1377422.js";import{w as he}from"../chunks/index.b36f6ad1.js";import{f as ge}from"../chunks/postService.91aeda58.js";import"../chunks/singletons.068c7307.js";import{L as ve}from"../chunks/LoginGuard.0133d522.js";const be=he([]);function Q(n,e,l){const t=n.slice();return t[5]=e[l],t}function ke(n){return{c:E,l:E,m:E,p:E,d:E}}function we(n){let e,l,t;return{c(){e=g("img"),this.h()},l(a){e=v(a,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){T(e.src,l=n[8])||u(e,"src",l),u(e,"alt",t=n[5].title),u(e,"class","aspect-[16/9] w-full object-cover sm:aspect-[2/1] lg:aspect-[3/2]")},m(a,i){L(a,e,i)},p(a,i){i&1&&!T(e.src,l=a[8])&&u(e,"src",l),i&1&&t!==(t=a[5].title)&&u(e,"alt",t)},d(a){a&&d(e)}}}function $e(n){let e,l;return{c(){e=g("img"),this.h()},l(t){e=v(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){T(e.src,l="https://via.placeholder.com/800x400.png?text=Loading...")||u(e,"src",l),u(e,"alt","Loading..."),u(e,"class","aspect-[16/9] w-full object-cover sm:aspect-[2/1] lg:aspect-[3/2]")},m(t,a){L(t,e,a)},p:E,d(t){t&&d(e)}}}function W(n,e){let l,t,a,i,p,c,o,s="",r,f,k,M=e[5].title+"",S,D,G,y,w,x,m={ctx:e,current:null,token:null,hasCatch:!1,pending:$e,then:we,catch:ke,value:8};return R(i=e[1](e[5]),m),w=new _e({props:{source:e[5].blogSummary||e[5].body}}),{key:n,first:null,c(){l=g("div"),t=g("div"),a=g("figure"),m.block.c(),p=C(),c=g("div"),o=g("div"),o.innerHTML=s,r=C(),f=g("div"),k=g("a"),S=re(M),G=C(),y=g("div"),Z(w.$$.fragment),this.h()},l(_){l=v(_,"DIV",{class:!0});var b=I(l);t=v(b,"DIV",{});var $=I(t);a=v($,"FIGURE",{});var U=I(a);m.block.l(U),U.forEach(d),p=A($),c=v($,"DIV",{class:!0});var V=I(c);o=v(V,"DIV",{class:!0,"data-svelte-h":!0}),Y(o)!=="svelte-189i4nw"&&(o.innerHTML=s),r=A(V),f=v(V,"DIV",{class:!0});var j=I(f);k=v(j,"A",{href:!0,class:!0});var q=I(k);S=oe(q,M),q.forEach(d),G=A(j),y=v(j,"DIV",{class:!0});var P=I(y);ee(w.$$.fragment,P),P.forEach(d),j.forEach(d),V.forEach(d),$.forEach(d),b.forEach(d),this.h()},h(){u(o,"class","prose items-center gap-x-4"),u(k,"href",D=`/posts/${e[5].slug}`),u(k,"class","prose-lg text-primary line-clamp-2 font-bold"),u(y,"class","prose-sm text-base-content mt-3 line-clamp-6 text-justify"),u(f,"class","group relative mt-3"),u(c,"class","m-4 max-w-xl"),u(l,"class","card bg-base-300 flex w-full flex-col justify-between p-4 shadow-xl"),this.first=l},m(_,b){L(_,l,b),h(l,t),h(t,a),m.block.m(a,m.anchor=null),m.mount=()=>a,m.anchor=null,h(t,p),h(t,c),h(c,o),h(c,r),h(c,f),h(f,k),h(k,S),h(f,G),h(f,y),te(w,y,null),x=!0},p(_,b){e=_,m.ctx=e,b&1&&i!==(i=e[1](e[5]))&&R(i,m)||ie(m,e,b),(!x||b&1)&&M!==(M=e[5].title+"")&&ne(S,M),(!x||b&1&&D!==(D=`/posts/${e[5].slug}`))&&u(k,"href",D);const $={};b&1&&($.source=e[5].blogSummary||e[5].body),w.$set($)},i(_){x||(F(w.$$.fragment,_),x=!0)},o(_){N(w.$$.fragment,_),x=!1},d(_){_&&d(l),m.block.d(),m.token=null,m=null,ae(w)}}}function X(n){let e,l='<div><div class="m-4 max-w-xl"><div class="prose items-center gap-x-4"><div class="text-accent">No posts found</div></div></div></div>';return{c(){e=g("div"),e.innerHTML=l,this.h()},l(t){e=v(t,"DIV",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-1i59cfa"&&(e.innerHTML=l),this.h()},h(){u(e,"class","card bg-base-300 flex w-full flex-col justify-between p-4 shadow-xl")},m(t,a){L(t,e,a)},d(t){t&&d(e)}}}function Ie(n){let e=[],l=new Map,t,a,i,p=z(n[0]);const c=s=>s[5].id;for(let s=0;s<p.length;s+=1){let r=Q(n,p,s),f=c(r);l.set(f,e[s]=W(f,r))}let o=n[0].length===0&&X();return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=C(),o&&o.c(),a=O()},l(s){for(let r=0;r<e.length;r+=1)e[r].l(s);t=A(s),o&&o.l(s),a=O()},m(s,r){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(s,r);L(s,t,r),o&&o.m(s,r),L(s,a,r),i=!0},p(s,r){r&3&&(p=z(s[0]),de(),e=ce(e,r,c,1,s,p,l,t.parentNode,ue,W,t,Q),pe()),s[0].length===0?o||(o=X(),o.c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null)},i(s){if(!i){for(let r=0;r<p.length;r+=1)F(e[r]);i=!0}},o(s){for(let r=0;r<e.length;r+=1)N(e[r]);i=!1},d(s){s&&(d(t),d(a));for(let r=0;r<e.length;r+=1)e[r].d(s);o&&o.d(s)}}}function ye(n){let e,l;return e=new ve({props:{$$slots:{default:[Ie]},$$scope:{ctx:n}}}),{c(){Z(e.$$.fragment)},l(t){ee(e.$$.fragment,t)},m(t,a){te(e,t,a),l=!0},p(t,[a]){const i={};a&513&&(i.$$scope={dirty:a,ctx:t}),e.$set(i)},i(t){l||(F(e.$$.fragment,t),l=!0)},o(t){N(e.$$.fragment,t),l=!1},d(t){ae(e,t)}}}function xe(n,e,l){let t,a;B(n,be,c=>l(2,t=c)),B(n,H,c=>l(3,a=c));async function i(c){if(c.featuredImage){const o=await K.collection("images").getOne(c.featuredImage);if(o&&o.file)return K.getFileUrl(o,o.file)}return"https://via.placeholder.com/800x400.png?text=AI+Blog"}J(H,a.title="AI powered note taking",a),J(H,a.description="AI powered note taking",a);let p=[];return se(async()=>{await ge(),l(0,p=t)}),[p,i]}class Te extends fe{constructor(e){super(),me(this,e,xe,ye,le,{})}}export{Te as component};
